import java.io.*;
import java.nio.charset.Charset;
import org.jfree.io.IOUtils;

import lejos.hardware.device.UART;
import lejos.hardware.ev3.LocalEV3;
import lejos.hardware.lcd.TextLCD;

public class Slave {

	// static UART slaveBrick = new UART(LocalEV3.get().getPort("S1"));

	public static TextLCD t = LocalEV3.get().getTextLCD();
	
	static void receiveMasterInfo(){
		
		byte[] receivedInfo = new byte[3];
		
		int test = Master.slaveBrick.read(receivedInfo, 0, 3);
		
		
		InputStream dos =  Master.slaveBrick.getInputStream();
		
		
		String lol = getStringFromInputStream(dos);
		
		if(lol == null || lol.length() == 0){
			t.drawString("NOT WORKING", 0, 0);
			while(true){
				
			}
		}
		
		String displayString = "RALPH";
		
		t.drawString(lol, 0, 0);
	
		
		for(long i = 0; i<1000000000; i++){
			
		}
		
	}
	
	
	private static String getStringFromInputStream(InputStream is) {

		BufferedReader br = null;
		StringBuilder sb = new StringBuilder();

		String line;
		try {

			br = new BufferedReader(new InputStreamReader(is));
			while ((line = br.readLine()) != null) {
				sb.append(line);
			}

		} catch (IOException e) {
			e.printStackTrace();
		} finally {
			if (br != null) {
				try {
					br.close();
				} catch (IOException e) {
					e.printStackTrace();
				}
			}
		}

		return sb.toString();

	}
	
	
}
